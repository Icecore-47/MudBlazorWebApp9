@using MudBlazor
@inject IDialogService DialogService

<MudDialog>
    <DialogContent>
        <MudTextField Label="Name" @bind-Value="credential.Name" Required="true" />
        <MudTextField Label="Host" @bind-Value="credential.Host" Required="true" />
        <MudTextField Label="Username" @bind-Value="credential.Username" Required="true" />
        <MudTextField Label="Password" @bind-Value="credential.Password" Required="true" InputType="InputType.Password" />
        <MudTextField Label="SSH Key (Optional)" @bind-Value="credential.SshKeyContent" Multiline="true" Rows="10" />
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="Cancel" Variant="Variant.Text">Cancel</MudButton>
        <MudButton OnClick="Save" Variant="Variant.Filled" Color="Color.Primary">Save</MudButton>
    </DialogActions>
</MudDialog>

@code {
    [CascadingParameter] MudDialogInstance DialogInstance { get; set; }
    [Parameter] public SshCredential credential { get; set; } = new SshCredential();

    private void Cancel()
    {
        DialogInstance.Close(DialogResult.Cancel());
    }

    private void Save()
    {
        DialogInstance.Close(DialogResult.Ok(credential));
    }
}